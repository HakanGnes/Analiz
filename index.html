<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Veri Dedektifi Oyunu</title>
  <meta name="viewport" content="width=960, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      background: #f9f6ed;
      width: 100vw; height: 100vh; margin: 0; padding: 0; overflow: hidden;
    }
    body {
      min-width: 960px; min-height: 540px;
      display: flex; align-items: center; justify-content: center;
    }
    .mainwrap {
      width: 960px; height: 540px;
      display: flex; align-items: center; justify-content: center;
      box-sizing: border-box;
    }
    .container {
      width: 920px; height: 500px;
      background: #fff;
      border-radius: 26px;
      box-shadow: 0 6px 38px #e2d5ba70;
      padding: 0;
      position: relative;
      display: flex; flex-direction: column;
      justify-content: flex-start;
      align-items: center;
    }
    .headerbar {
      display: flex; align-items: center; justify-content: space-between;
      width: 100%; padding: 30px 42px 0 42px;
    }
    .logo-title {
      display: flex; align-items: center; gap: 13px;
      font-family: 'Quicksand', Arial, sans-serif;
    }
    .logo-title img {
      width: 44px; height: 44px;
    }
    .title {
      font-size: 2.1rem; color: #232c47; font-weight: 800;
      letter-spacing: -1px; margin: 0;
    }
    .scorebox {
      font-size: 1.1rem;
      background: #fbecc2;
      color: #ad831c;
      border-radius: 40px;
      padding: 7px 28px 7px 20px;
      box-shadow: 0 2px 12px #f7e3b122;
      font-weight: 700;
    }
    .layoutrow {
      display: flex; width: 100%; flex: 1;
      margin-top: 15px;
      align-items: flex-start;
      justify-content: center;
    }
    .leftcol {
      width: 360px; margin-right: 28px;
      display: flex; flex-direction: column;
      align-items: flex-end; /* tablo saÄŸda */
    }
    .rightcol {
      width: 430px; display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      height: 100%;
    }
    .card {
      background: #f9f6ed;
      border-radius: 18px;
      box-shadow: 0 2px 18px #e2d5ba35;
      padding: 19px 25px 21px 25px;
      width: 100%;
      margin-bottom: 16px;
      font-size: 1.11rem;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    table {
      width: 99%; margin: 0.5em auto 0.5em 0;
      border-collapse: collapse;
      background: #fdf8e7;
      border-radius: 13px;
      overflow: hidden;
      box-shadow: 0 2px 18px #f1eadc56;
    }
    th, td {
      border: 1px solid #ebddc2;
      padding: 10px 12px;
      text-align: center; font-size: 1.02rem;
    }
    th {
      background: #f5e5b5; color: #ad831c;
      font-weight: 700;
    }
    button {
      background: linear-gradient(90deg, #fae1a1 0%, #f1b359 100%);
      color: #6d5b28; font-size: 1.05rem; font-weight: 700;
      padding: .56rem 2.1rem;
      border: none; border-radius: 13px;
      box-shadow: 0 2px 10px #fae1a1aa;
      margin-top: 13px;
      cursor: pointer;
      transition: background .2s, transform .2s;
      letter-spacing: 0.5px;
    }
    button:hover:enabled { background: #ffe7b4; transform: scale(1.03);}
    button:disabled { background: #e9e0c7; color: #bbb;}
    label { margin-bottom: 6px; display: block;}
    input[type=radio], select { margin-right: 8px; }
    .hide { display: none !important; }
    .correct { color: #228859; font-weight: 700;}
    .wrong { color: #e34627; font-weight: 700;}
    .chartwrap {
      width: 94%; min-width: 320px; max-width: 420px; margin: 0 0 16px 0;
      background: #f9f6ed;
      border-radius: 16px;
      box-shadow: 0 2px 12px #f1eadc39;
      padding: 12px 8px 0 8px;
      display: flex; align-items: center; justify-content: center;
    }
    .card-ana {
      background: none;
      box-shadow: none;
      padding: 0;
      margin-bottom: 7px;
    }
    .step-title {
      font-size: 1.22rem; color: #2575b2; margin: 0 0 9px 0; font-weight: bold;
    }
    .answerlist ul { padding-left: 1.2em;}
    .centered { text-align: center; width: 100%;}
  </style>
</head>
<body>
<div class="mainwrap">
<div class="container" id="maincont">
  <!-- HEADER -->
  <div class="headerbar">
    <div class="logo-title">
      <span class="title">Veri Dedektifi Oyunu</span>
    </div>
    <div class="scorebox">Skor: <span id="score">0</span></div>
  </div>
  <!-- OYUN AKIÅI -->
  <div class="layoutrow">
    <div class="leftcol">
      <div class="card" id="tablocard">
        <b>Veri Tablosu:</b>
        <table>
          <thead><tr><th>GÃ¼n</th><th>DeÄŸer</th></tr></thead>
          <tbody id="datatable"></tbody>
        </table>
      </div>
    </div>
    <div class="rightcol">
      <!-- Her gÃ¶rev burada gÃ¶sterilecek -->
      <div class="card card-ana" id="step1">
        <div class="step-title">1. Problemi Anlama ve DoÄŸru Soru Sorma</div>
        <div style="margin-bottom:14px;">Bir haftalÄ±k veri var. Sence aÅŸaÄŸÄ±daki sorulardan hangisi veriye uygun problem tanÄ±mÄ± olur?</div>
        <form id="qform1">
          <label><input type="radio" name="soru1" value="A"> Bu veriler neyi gÃ¶steriyor?</label>
          <label><input type="radio" name="soru1" value="B"> Bir haftada hangi gÃ¼n en fazla deÄŸer gerÃ§ekleÅŸmiÅŸtir?</label>
          <label><input type="radio" name="soru1" value="C"> Veri toplamak neden Ã¶nemlidir?</label>
          <button type="submit">Kontrol Et</button>
        </form>
        <div id="result1"></div>
      </div>
      <div class="card card-ana hide" id="step2">
        <div class="step-title">2. Veriyi Anlama</div>
        <div class="centered" style="margin-bottom:6px;"><b>Soru:</b> KaÃ§ satÄ±r var? KaÃ§ sÃ¼tun var? Hangi deÄŸiÅŸkenler var? TÃ¼rleri nedir?</div>
        <button onclick="showStruct()">CevabÄ± GÃ¶ster</button>
        <div id="structAns" class="answerlist hide">
          <ul>
            <li><b>SatÄ±r:</b> 7</li>
            <li><b>SÃ¼tun:</b> 2 (GÃ¼n, DeÄŸer)</li>
            <li><b>GÃ¼n:</b> Kategorik (hafta gÃ¼nleri)</li>
            <li><b>DeÄŸer:</b> SayÄ±sal (adÄ±m sayÄ±sÄ± vb.)</li>
          </ul>
        </div>
      </div>
      <div class="card card-ana hide" id="step3">
        <div class="step-title">3. Eksik ve UÃ§ DeÄŸer Bulma</div>
        <div style="margin-bottom:9px;">Tabloda bir eksik, bir de Ã§ok yÃ¼ksek (uÃ§) deÄŸer var. SeÃ§ bakalÄ±m!</div>
        <form id="qform3">
          <label>Eksik gÃ¼n:
            <select id="missing"><option value="">SeÃ§iniz</option></select>
          </label>
          <label>UÃ§ deÄŸer gÃ¼n:
            <select id="outlier"><option value="">SeÃ§iniz</option></select>
          </label>
          <button type="submit">Kontrol Et</button>
        </form>
        <div id="result3"></div>
      </div>
      <div class="card card-ana hide" id="step4">
        <div class="step-title">4. Ä°statistiksel Ã–lÃ§Ã¼ler</div>
        <div style="margin-bottom:7px;">Eksik ve uÃ§ deÄŸerleri Ã§Ä±kardÄ±ktan sonra min, maks, ortalama, medyan ve mod deÄŸerlerini bul.</div>
        <button onclick="showStats()">CevabÄ± GÃ¶ster</button>
        <ul id="statsAns" class="answerlist hide"></ul>
      </div>
      <div class="card card-ana hide" id="step5">
        <div class="step-title">5. Veri GÃ¶rselleÅŸtirme</div>
        <div style="margin-bottom:7px;">Eksik ve uÃ§ deÄŸerler olmadan, haftalÄ±k veriyi grafikte gÃ¶ster:</div>
        <div class="chartwrap"><canvas id="barChart" width="320" height="160"></canvas></div>
        <button onclick="step(6)">Sonraki GÃ¶rev</button>
      </div>
      <div class="card card-ana hide" id="step6">
        <div class="step-title">6. Modelleme ve Yorumlama</div>
        <div style="margin-bottom:7px;">Sistem model oluÅŸturdu. AÅŸaÄŸÄ±daki yorumlardan hangisi veriye en uygunudur?</div>
        <form id="qform6">
          <label><input type="radio" name="yorum" value="A"> TÃ¼m gÃ¼nler eÅŸit daÄŸÄ±lÄ±m gÃ¶steriyor.</label>
          <label><input type="radio" name="yorum" value="B"> Hafta iÃ§inde genel olarak artÄ±ÅŸ eÄŸilimi var ama cuma gÃ¼nÃ¼ uÃ§ deÄŸer bozucu etkide.</label>
          <label><input type="radio" name="yorum" value="C"> Veri setinde hiÃ§bir Ã¶rÃ¼ntÃ¼ yok.</label>
          <button type="submit">Kontrol Et</button>
        </form>
        <div id="result6"></div>
      </div>
      <div class="card card-ana hide" id="step7">
        <div class="step-title">Tebrikler! Oyunu TamamladÄ±n ğŸ‰</div>
        <div class="card" style="background:#fff7e3; color:#765b1c;">
          BaÅŸarÄ±lÄ± bir veri dedektifi oldun!<br>Yeniden oynamak ister misin?
        </div>
        <button onclick="window.location.reload()">Yeniden Oyna</button>
      </div>
    </div>
  </div>
</div>
</div>
<script>
const data = [
  { day: "Pzt", value: 20 },
  { day: "SalÄ±", value: 25 },
  { day: "Ã‡rÅŸ", value: null },
  { day: "PrÅŸ", value: 35 },
  { day: "Cuma", value: 60 },
  { day: "Cts", value: 40 },
  { day: "Pazar", value: 30 }
];
let score = 0;
// Tabloyu doldur (her sayfa)
function fillTable() {
  let t = ""; data.forEach(d=>t+=`<tr><td>${d.day}</td><td>${d.value==null?"?" : d.value}</td></tr>`);
  document.getElementById("datatable").innerHTML = t;
}
fillTable();
// AkÄ±ÅŸÄ± baÅŸlat ve kartlarÄ± yÃ¶net
function step(n) {
  for (let i=1;i<=7;i++) {
    document.getElementById("step"+i).classList.add("hide");
  }
  document.getElementById("step"+n).classList.remove("hide");
  document.getElementById("score").textContent = score;
  if (n === 3) fillSelects();
  if (n === 5) drawChart();
}
function addScore(val) {
  score += val; document.getElementById("score").textContent = score;
}
// GÃ¶rev 1 - Problemi anlama
document.getElementById("qform1").onsubmit = function(e) {
  e.preventDefault();
  const val = document.querySelector("input[name=soru1]:checked")?.value;
  const result = document.getElementById("result1");
  if (val === "B") {
    result.innerHTML = "<span class='correct'>DoÄŸru! Problemi anlamak iÃ§in doÄŸru soruyu sordun.</span>";
    addScore(10); setTimeout(()=>step(2),900);
  } else {
    result.innerHTML = "<span class='wrong'>YanlÄ±ÅŸ. Problemi anlamak iÃ§in veriye yÃ¶nelik soru sormalÄ±sÄ±n.</span>";
  }
};
// GÃ¶rev 2 - Veri yapÄ±sÄ±
function showStruct() {
  document.getElementById("structAns").classList.remove("hide");
  addScore(10); setTimeout(()=>step(3),900);
}
// GÃ¶rev 3 - Eksik/aykÄ±rÄ± deÄŸer
function fillSelects() {
  let opt = "<option value=''>SeÃ§iniz</option>";
  data.forEach(d=>{ opt+=`<option value='${d.day}'>${d.day}</option>`; });
  document.getElementById("missing").innerHTML = opt;
  document.getElementById("outlier").innerHTML = opt;
}
document.getElementById("qform3").onsubmit = function(e) {
  e.preventDefault();
  const missing = document.getElementById("missing").value;
  const outlier = document.getElementById("outlier").value;
  const result = document.getElementById("result3");
  if (missing === "Ã‡rÅŸ" && outlier === "Cuma") {
    result.innerHTML = "<span class='correct'>Tebrikler! Eksik ve uÃ§ deÄŸeri doÄŸru buldun.</span>";
    addScore(15); setTimeout(()=>step(4),1000);
  } else {
    result.innerHTML = "<span class='wrong'>YanlÄ±ÅŸ cevap. Eksik olan Ã‡rÅŸ, uÃ§ deÄŸer ise Cuma.</span>";
  }
};
// GÃ¶rev 4 - Ä°statistik
function showStats() {
  const vals = [20,25,35,40,30];
  const min = Math.min(...vals), max = Math.max(...vals);
  const mean = Math.round(vals.reduce((a,b)=>a+b,0)/vals.length);
  const medyan = vals.slice().sort((a,b)=>a-b)[Math.floor(vals.length/2)];
  const mod = vals.sort((a,b) => vals.filter(v=>v===a).length-vals.filter(v=>v===b).length).pop();
  const s = document.getElementById("statsAns");
  s.innerHTML = `<li>Min: <b>${min}</b></li>
    <li>Maks: <b>${max}</b></li>
    <li>Ortalama: <b>${mean}</b></li>
    <li>Medyan: <b>${medyan}</b></li>
    <li>Mod: <b>${mod}</b></li>`;
  s.classList.remove("hide");
  addScore(15); setTimeout(()=>step(5),1000);
}
// GÃ¶rev 5 - Grafik
function drawChart() {
  const ctx = document.getElementById('barChart').getContext('2d');
  if(window.bar) window.bar.destroy();
  window.bar = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: data.map(d=>d.day),
      datasets: [{
        label: "Veri (eksikler ve uÃ§ deÄŸerler hariÃ§)",
        data: data.map(d=>d.value==null||d.value==60?null:d.value),
        backgroundColor: "#fae1a1"
      }]
    },
    options: {
      plugins: { legend: {display: false}},
      scales: { y: { beginAtZero:true } }
    }
  });
}
// GÃ¶rev 6 - Model yorum
document.getElementById("qform6").onsubmit = function(e) {
  e.preventDefault();
  const val = document.querySelector("input[name=yorum]:checked")?.value;
  const result = document.getElementById("result6");
  if (val === "B") {
    result.innerHTML = "<span class='correct'>DoÄŸru! Verinin genel eÄŸilimini doÄŸru yorumladÄ±n.</span>";
    addScore(20); setTimeout(()=>step(7),1100);
  } else {
    result.innerHTML = "<span class='wrong'>YanlÄ±ÅŸ. Tekrar dene!</span>";
  }
};
// ilk adÄ±mÄ± baÅŸlat
step(1);
</script>
</body>
</html>


